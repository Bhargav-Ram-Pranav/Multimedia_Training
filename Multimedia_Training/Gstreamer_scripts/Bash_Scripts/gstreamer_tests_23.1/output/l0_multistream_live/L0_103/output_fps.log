gst-launch-1.0 -v v4l2src device=/dev/video0 io-mode=4 num-buffers=3000  ! video/x-raw, width=3840, height=2160, format=NV12, framerate=30/1 ! omxh264enc target-bitrate=30000 control-rate=constant num-slices=8 gop-mode=basic gop-length=30 b-frames=2 qp-mode=auto prefetch-buffer=TRUE cpb-size=2800 initial-delay=1400 min-qp=0 max-qp=30 quant-i-frames=20 quant-p-frames=30 filler-data=TRUE low-bandwidth=TRUE entropy-mode=CAVLC constrained-intra-prediction=TRUE loop-filter-mode=default scaling-list=default ! video/x-h264, profile=high, alignment=au ! queue ! omxh264dec low-latency=0 internal-entropy-buffers=2 ! queue max-size-bytes=0 ! fpsdisplaysink name=fpssink text-overlay=false video-sink="kmssink bus-id="a0070000.v_mix" hold-extra-sample=TRUE  plane-id=35 render-rectangle=<1920,0,1920,2160>" sync=true -v
Setting pipeline to PAUSED ...
Pipeline is live and does not need PREROLL ...
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink/GstKMSSink:kmssink0: display-width = 3840
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink/GstKMSSink:kmssink0: display-height = 2160
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink/GstKMSSink:kmssink0: sync = true
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
/GstPipeline:pipeline0/GstV4l2Src:v4l2src0.GstPad:src: caps = video/x-raw, width=(int)3840, height=(int)2160, format=(string)NV12, framerate=(fraction)30/1, interlace-mode=(string)progressive, colorimetry=(string)bt2020
/GstPipeline:pipeline0/GstCapsFilter:capsfilter0.GstPad:src: caps = video/x-raw, width=(int)3840, height=(int)2160, format=(string)NV12, framerate=(fraction)30/1, interlace-mode=(string)progressive, colorimetry=(string)bt2020
New clock: GstSystemClock
Redistribute latency...
/GstPipeline:pipeline0/GstOMXH264Enc-omxh264enc:omxh264enc-omxh264enc0.GstPad:sink: caps = video/x-raw, width=(int)3840, height=(int)2160, format=(string)NV12, framerate=(fraction)30/1, interlace-mode=(string)progressive, colorimetry=(string)bt2020
/GstPipeline:pipeline0/GstCapsFilter:capsfilter0.GstPad:sink: caps = video/x-raw, width=(int)3840, height=(int)2160, format=(string)NV12, framerate=(fraction)30/1, interlace-mode=(string)progressive, colorimetry=(string)bt2020
[WARNING]: Both or none of PBDelta and IPDelta parameters must be set at the same time. They will be adjusted.
[WARNING]: The specified Level is too low and will be adjusted
/GstPipeline:pipeline0/GstOMXH264Enc-omxh264enc:omxh264enc-omxh264enc0.GstPad:src: caps = video/x-h264, stream-format=(string)byte-stream, alignment=(string)au, profile=(string)high, level=(string)5.1, chroma-format=(string)4:2:0, bit-depth-luma=(uint)8, bit-depth-chroma=(uint)8, width=(int)3840, height=(int)2160, pixel-aspect-ratio=(fraction)1/1, framerate=(fraction)30/1, interlace-mode=(string)progressive, colorimetry=(string)bt2020
/GstPipeline:pipeline0/GstCapsFilter:capsfilter1.GstPad:src: caps = video/x-h264, stream-format=(string)byte-stream, alignment=(string)au, profile=(string)high, level=(string)5.1, chroma-format=(string)4:2:0, bit-depth-luma=(uint)8, bit-depth-chroma=(uint)8, width=(int)3840, height=(int)2160, pixel-aspect-ratio=(fraction)1/1, framerate=(fraction)30/1, interlace-mode=(string)progressive, colorimetry=(string)bt2020
/GstPipeline:pipeline0/GstQueue:queue0.GstPad:sink: caps = video/x-h264, stream-format=(string)byte-stream, alignment=(string)au, profile=(string)high, level=(string)5.1, chroma-format=(string)4:2:0, bit-depth-luma=(uint)8, bit-depth-chroma=(uint)8, width=(int)3840, height=(int)2160, pixel-aspect-ratio=(fraction)1/1, framerate=(fraction)30/1, interlace-mode=(string)progressive, colorimetry=(string)bt2020
/GstPipeline:pipeline0/GstCapsFilter:capsfilter1.GstPad:sink: caps = video/x-h264, stream-format=(string)byte-stream, alignment=(string)au, profile=(string)high, level=(string)5.1, chroma-format=(string)4:2:0, bit-depth-luma=(uint)8, bit-depth-chroma=(uint)8, width=(int)3840, height=(int)2160, pixel-aspect-ratio=(fraction)1/1, framerate=(fraction)30/1, interlace-mode=(string)progressive, colorimetry=(string)bt2020
/GstPipeline:pipeline0/GstQueue:queue0.GstPad:src: caps = video/x-h264, stream-format=(string)byte-stream, alignment=(string)au, profile=(string)high, level=(string)5.1, chroma-format=(string)4:2:0, bit-depth-luma=(uint)8, bit-depth-chroma=(uint)8, width=(int)3840, height=(int)2160, pixel-aspect-ratio=(fraction)1/1, framerate=(fraction)30/1, interlace-mode=(string)progressive, colorimetry=(string)bt2020
Redistribute latency...
/GstPipeline:pipeline0/GstOMXH264Dec-omxh264dec:omxh264dec-omxh264dec0.GstPad:sink: caps = video/x-h264, stream-format=(string)byte-stream, alignment=(string)au, profile=(string)high, level=(string)5.1, chroma-format=(string)4:2:0, bit-depth-luma=(uint)8, bit-depth-chroma=(uint)8, width=(int)3840, height=(int)2160, pixel-aspect-ratio=(fraction)1/1, framerate=(fraction)30/1, interlace-mode=(string)progressive, colorimetry=(string)bt2020
/GstPipeline:pipeline0/GstOMXH264Dec-omxh264dec:omxh264dec-omxh264dec0.GstPad:src: caps = video/x-raw(memory:GLMemory), format=(string)RGBA, width=(int)3840, height=(int)2160, interlace-mode=(string)progressive, multiview-mode=(string)mono, multiview-flags=(GstVideoMultiviewFlagsSet)0:ffffffff:/right-view-first/left-flipped/left-flopped/right-flipped/right-flopped/half-aspect/mixed-mono, pixel-aspect-ratio=(fraction)1/1, colorimetry=(string)2:1:11:7, framerate=(fraction)30/1
/GstPipeline:pipeline0/GstOMXH264Dec-omxh264dec:omxh264dec-omxh264dec0.GstPad:src: caps = video/x-raw, format=(string)NV12, width=(int)3840, height=(int)2160, interlace-mode=(string)progressive, multiview-mode=(string)mono, multiview-flags=(GstVideoMultiviewFlagsSet)0:ffffffff:/right-view-first/left-flipped/left-flopped/right-flipped/right-flopped/half-aspect/mixed-mono, pixel-aspect-ratio=(fraction)1/1, chroma-site=(string)mpeg2, colorimetry=(string)bt2020, framerate=(fraction)30/1
/GstPipeline:pipeline0/GstQueue:queue1.GstPad:sink: caps = video/x-raw, format=(string)NV12, width=(int)3840, height=(int)2160, interlace-mode=(string)progressive, multiview-mode=(string)mono, multiview-flags=(GstVideoMultiviewFlagsSet)0:ffffffff:/right-view-first/left-flipped/left-flopped/right-flipped/right-flopped/half-aspect/mixed-mono, pixel-aspect-ratio=(fraction)1/1, chroma-site=(string)mpeg2, colorimetry=(string)bt2020, framerate=(fraction)30/1
/GstPipeline:pipeline0/GstQueue:queue1.GstPad:src: caps = video/x-raw, format=(string)NV12, width=(int)3840, height=(int)2160, interlace-mode=(string)progressive, multiview-mode=(string)mono, multiview-flags=(GstVideoMultiviewFlagsSet)0:ffffffff:/right-view-first/left-flipped/left-flopped/right-flipped/right-flopped/half-aspect/mixed-mono, pixel-aspect-ratio=(fraction)1/1, chroma-site=(string)mpeg2, colorimetry=(string)bt2020, framerate=(fraction)30/1
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink.GstGhostPad:sink.GstProxyPad:proxypad0: caps = video/x-raw, format=(string)NV12, width=(int)3840, height=(int)2160, interlace-mode=(string)progressive, multiview-mode=(string)mono, multiview-flags=(GstVideoMultiviewFlagsSet)0:ffffffff:/right-view-first/left-flipped/left-flopped/right-flipped/right-flopped/half-aspect/mixed-mono, pixel-aspect-ratio=(fraction)1/1, chroma-site=(string)mpeg2, colorimetry=(string)bt2020, framerate=(fraction)30/1
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink/GstKMSSink:kmssink0.GstPad:sink: caps = video/x-raw, format=(string)NV12, width=(int)3840, height=(int)2160, interlace-mode=(string)progressive, multiview-mode=(string)mono, multiview-flags=(GstVideoMultiviewFlagsSet)0:ffffffff:/right-view-first/left-flipped/left-flopped/right-flipped/right-flopped/half-aspect/mixed-mono, pixel-aspect-ratio=(fraction)1/1, chroma-site=(string)mpeg2, colorimetry=(string)bt2020, framerate=(fraction)30/1
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink.GstGhostPad:sink: caps = video/x-raw, format=(string)NV12, width=(int)3840, height=(int)2160, interlace-mode=(string)progressive, multiview-mode=(string)mono, multiview-flags=(GstVideoMultiviewFlagsSet)0:ffffffff:/right-view-first/left-flipped/left-flopped/right-flipped/right-flopped/half-aspect/mixed-mono, pixel-aspect-ratio=(fraction)1/1, chroma-site=(string)mpeg2, colorimetry=(string)bt2020, framerate=(fraction)30/1
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink/GstKMSSink:kmssink0: sync = true
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1, dropped: 3, fps: 1.65, drop rate: 4.96
WARNING: from element /GstPipeline:pipeline0/GstFPSDisplaySink:fpssink/GstKMSSink:kmssink0: A lot of buffers are being dropped.
Additional debug info:
../git/libs/gst/base/gstbasesink.c(3151): gst_base_sink_is_too_late (): /GstPipeline:pipeline0/GstFPSDisplaySink:fpssink/GstKMSSink:kmssink0:
There may be a timestamping problem, or this computer is too slow.
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 4, dropped: 5, fps: 5.35, drop rate: 3.56
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 20, dropped: 5, current: 30.05, average: 11.78
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 35, dropped: 5, current: 30.00, average: 15.92
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 51, dropped: 5, current: 30.00, average: 18.67
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 66, dropped: 5, current: 30.00, average: 20.43
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 82, dropped: 5, current: 30.00, average: 21.78
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 97, dropped: 5, current: 30.00, average: 22.74
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 113, dropped: 5, current: 30.00, average: 23.55
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 128, dropped: 5, current: 30.00, average: 24.16
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 143, dropped: 5, current: 30.00, average: 24.66
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 158, dropped: 5, current: 30.00, average: 25.09
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 174, dropped: 5, current: 30.00, average: 25.47
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 190, dropped: 5, current: 30.00, average: 25.80
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 205, dropped: 5, current: 30.00, average: 26.07
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 220, dropped: 5, current: 29.99, average: 26.30
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 236, dropped: 5, current: 30.02, average: 26.52
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 251, dropped: 5, current: 30.00, average: 26.71
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 267, dropped: 5, current: 30.00, average: 26.88
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 282, dropped: 5, current: 30.00, average: 27.03
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 297, dropped: 5, current: 30.00, average: 27.17
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 312, dropped: 5, current: 30.00, average: 27.29
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 327, dropped: 5, current: 30.00, average: 27.41
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 342, dropped: 5, current: 30.00, average: 27.51
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 358, dropped: 5, current: 30.00, average: 27.61
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 374, dropped: 5, current: 30.00, average: 27.71
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 390, dropped: 5, current: 30.00, average: 27.79
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 406, dropped: 5, current: 30.00, average: 27.88
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 421, dropped: 5, current: 30.00, average: 27.95
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 437, dropped: 5, current: 30.00, average: 28.02
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 453, dropped: 5, current: 30.00, average: 28.08
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 468, dropped: 5, current: 30.00, average: 28.14
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 483, dropped: 5, current: 30.00, average: 28.19
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 498, dropped: 5, current: 29.96, average: 28.24
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 514, dropped: 5, current: 30.03, average: 28.30
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 529, dropped: 5, current: 30.00, average: 28.34
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 544, dropped: 5, current: 30.00, average: 28.39
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 560, dropped: 5, current: 30.01, average: 28.43
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 575, dropped: 5, current: 30.00, average: 28.47
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 590, dropped: 5, current: 30.00, average: 28.50
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 606, dropped: 5, current: 30.00, average: 28.54
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 621, dropped: 5, current: 30.00, average: 28.58
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 636, dropped: 5, current: 30.00, average: 28.61
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 652, dropped: 5, current: 30.00, average: 28.64
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 667, dropped: 5, current: 30.00, average: 28.67
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 683, dropped: 5, current: 30.00, average: 28.70
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 698, dropped: 5, current: 30.00, average: 28.73
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 713, dropped: 5, current: 30.00, average: 28.75
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 728, dropped: 5, current: 30.00, average: 28.78
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 744, dropped: 5, current: 30.00, average: 28.80
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 759, dropped: 5, current: 30.00, average: 28.82
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 775, dropped: 5, current: 30.00, average: 28.85
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 790, dropped: 5, current: 30.00, average: 28.87
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 805, dropped: 5, current: 30.00, average: 28.89
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 821, dropped: 5, current: 30.00, average: 28.91
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 836, dropped: 5, current: 30.00, average: 28.93
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 852, dropped: 5, current: 30.00, average: 28.95
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 867, dropped: 5, current: 30.00, average: 28.97
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 882, dropped: 5, current: 30.00, average: 28.98
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 897, dropped: 5, current: 30.00, average: 29.00
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 912, dropped: 5, current: 30.00, average: 29.02
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 928, dropped: 5, current: 30.00, average: 29.03
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 943, dropped: 5, current: 30.00, average: 29.05
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 959, dropped: 5, current: 30.00, average: 29.06
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 974, dropped: 5, current: 30.00, average: 29.08
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 989, dropped: 5, current: 29.95, average: 29.09
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1005, dropped: 5, current: 30.04, average: 29.10
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1021, dropped: 5, current: 30.00, average: 29.12
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1036, dropped: 5, current: 30.00, average: 29.13
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1052, dropped: 5, current: 30.00, average: 29.14
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1067, dropped: 5, current: 29.99, average: 29.15
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1082, dropped: 5, current: 30.00, average: 29.17
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1098, dropped: 5, current: 30.01, average: 29.18
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1114, dropped: 5, current: 30.00, average: 29.19
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1129, dropped: 5, current: 30.00, average: 29.20
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1144, dropped: 5, current: 30.00, average: 29.21
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1159, dropped: 5, current: 30.00, average: 29.22
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1174, dropped: 5, current: 30.00, average: 29.23
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1189, dropped: 5, current: 30.00, average: 29.24
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1204, dropped: 5, current: 30.00, average: 29.25
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1220, dropped: 5, current: 30.00, average: 29.26
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1235, dropped: 5, current: 30.00, average: 29.27
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1251, dropped: 5, current: 30.00, average: 29.28
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1266, dropped: 5, current: 30.00, average: 29.28
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1281, dropped: 5, current: 30.00, average: 29.29
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1296, dropped: 5, current: 30.00, average: 29.30
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1311, dropped: 5, current: 30.00, average: 29.31
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1326, dropped: 5, current: 30.00, average: 29.32
/GstPipeline:pipeline0/GstFPSDisplaySink:fpssink: last-message = rendered: 1342, dropped: 5, current: 30.00, average: 29.32
handling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 0:00:46.984695766
Setting pipeline to NULL ...
Freeing pipeline ...
